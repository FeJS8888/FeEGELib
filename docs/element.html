<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Element ç±» - FeEGELib API æ–‡æ¡£</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Microsoft YaHei", "å¾®è½¯é›…é»‘", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .content {
            padding: 40px;
        }
        
        .back-link {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            margin-bottom: 20px;
        }
        
        .back-link:hover {
            background: #764ba2;
        }
        
        h2 {
            color: #667eea;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        
        h3 {
            color: #764ba2;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .method {
            background: white;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }
        
        .method-signature {
            font-family: "Consolas", "Monaco", monospace;
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .param {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .param-name {
            color: #667eea;
            font-weight: bold;
        }
        
        .example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .example code {
            font-family: "Consolas", "Monaco", monospace;
            font-size: 0.9em;
        }
        
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: #667eea;
            color: white;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .toc ul {
            list-style-position: inside;
            line-height: 2;
        }
        
        .toc a {
            color: #667eea;
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“¦ Element ç±»</h1>
            <p>FeEGELib æ ¸å¿ƒå…ƒç´ ç±» API å‚è€ƒ</p>
        </header>
        
        <div class="content">
            <a href="index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
            
            <div class="section">
                <h2>ğŸ“– æ¦‚è¿°</h2>
                <p>
                    <code>Element</code> ç±»æ˜¯ FeEGELib çš„æ ¸å¿ƒç»„ä»¶ï¼Œä»£è¡¨å›¾å½¢ç•Œé¢ä¸­çš„å¯æ˜¾ç¤ºã€å¯äº¤äº’å…ƒç´ ã€‚
                    å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä½ç½®æ§åˆ¶ã€æ—‹è½¬ç¼©æ”¾ã€äº‹ä»¶ç›‘å¬ã€åŠ¨ç”»æ•ˆæœã€ç¢°æ’æ£€æµ‹ç­‰ã€‚
                </p>
                <p style="margin-top: 10px;">
                    æ¯ä¸ª Element å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå›¾åƒï¼Œæ”¯æŒé€æ˜åº¦æ§åˆ¶ã€å›¾å±‚ç®¡ç†ã€å…‹éš†ç­‰é«˜çº§ç‰¹æ€§ã€‚
                    Element æ˜¯æ„å»ºå¤æ‚å›¾å½¢åº”ç”¨çš„åŸºç¡€ã€‚
                </p>
            </div>
            
            <div class="toc">
                <h3>ç›®å½•</h3>
                <ul>
                    <li><a href="#creation">åˆ›å»ºä¸åˆå§‹åŒ–</a></li>
                    <li><a href="#position">ä½ç½®ä¸ç§»åŠ¨</a></li>
                    <li><a href="#transform">å˜æ¢æ“ä½œ</a></li>
                    <li><a href="#display">æ˜¾ç¤ºæ§åˆ¶</a></li>
                    <li><a href="#events">äº‹ä»¶ç³»ç»Ÿ</a></li>
                    <li><a href="#animation">åŠ¨ç”»ç³»ç»Ÿ</a></li>
                    <li><a href="#collision">ç¢°æ’æ£€æµ‹</a></li>
                    <li><a href="#clone">å…‹éš†åŠŸèƒ½</a></li>
                    <li><a href="#variables">ç§æœ‰å˜é‡</a></li>
                    <li><a href="#images">å›¾åƒç®¡ç†</a></li>
                </ul>
            </div>
            
            <h2 id="creation">ğŸ”§ åˆ›å»ºä¸åˆå§‹åŒ–</h2>
            
            <div class="method">
                <h3>newElement</h3>
                <p>åˆ›å»ºæ–°çš„ Element å¯¹è±¡ã€‚</p>
                
                <div class="method-signature">
Element* newElement(string id, string imagePath, double x = 0, double y = 0);
Element* newElement(string id, PIMAGE image, double x = 0, double y = 0);
                </div>
                
                <div class="param">
                    <span class="param-name">id</span> - å…ƒç´ çš„å”¯ä¸€æ ‡è¯†ç¬¦<br>
                    <span class="param-name">imagePath</span> - å›¾åƒæ–‡ä»¶è·¯å¾„ï¼ˆæ”¯æŒç›¸å¯¹è·¯å¾„ï¼‰<br>
                    <span class="param-name">image</span> - å·²åŠ è½½çš„å›¾åƒæŒ‡é’ˆ<br>
                    <span class="param-name">x, y</span> - å…ƒç´ çš„åˆå§‹åæ ‡ä½ç½®
                </div>
                
                <div class="example">
                    <code>
// ä»æ–‡ä»¶åˆ›å»ºå…ƒç´ <br>
Element* player = newElement("player", "./images/player.png", 100, 100);<br>
<br>
// ä»å·²åŠ è½½å›¾åƒåˆ›å»º<br>
PIMAGE img = getImage("./images/enemy.png");<br>
Element* enemy = newElement("enemy", img, 200, 150);
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>getElementById</h3>
                <p>é€šè¿‡ ID è·å–å·²æ³¨å†Œçš„å…ƒç´ ã€‚</p>
                
                <div class="method-signature">
Element* getElementById(string id);
                </div>
                
                <div class="param">
                    <span class="param-name">id</span> - å…ƒç´ çš„å”¯ä¸€æ ‡è¯†ç¬¦<br>
                    <span class="param-name">è¿”å›å€¼</span> - å…ƒç´ æŒ‡é’ˆï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› nullptr
                </div>
                
                <div class="example">
                    <code>
Element* player = getElementById("player");<br>
if (player != nullptr) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;player->moveTo(300, 200);<br>
}
                    </code>
                </div>
            </div>
            
            <h2 id="position">ğŸ¯ ä½ç½®ä¸ç§»åŠ¨</h2>
            
            <div class="method">
                <h3>moveTo</h3>
                <p>ç§»åŠ¨å…ƒç´ åˆ°æŒ‡å®šåæ ‡ã€‚</p>
                
                <div class="method-signature">
void moveTo(double x, double y);
void moveTo(Position position);
                </div>
                
                <div class="param">
                    <span class="param-name">x, y</span> - ç›®æ ‡åæ ‡<br>
                    <span class="param-name">position</span> - Position å¯¹è±¡
                </div>
            </div>
            
            <div class="method">
                <h3>moveLeft / moveRight / moveUp / moveDown</h3>
                <p>æ²¿ç‰¹å®šæ–¹å‘ç§»åŠ¨å…ƒç´ ã€‚</p>
                
                <div class="method-signature">
void moveLeft(double pixels = 0);
void moveRight(double pixels = 0);
void moveUp(double pixels = 0);
void moveDown(double pixels = 0);
                </div>
                
                <div class="param">
                    <span class="param-name">pixels</span> - ç§»åŠ¨çš„åƒç´ æ•°
                </div>
                
                <div class="example">
                    <code>
element->moveRight(5);  // å‘å³ç§»åŠ¨ 5 åƒç´ <br>
element->moveUp(10);    // å‘ä¸Šç§»åŠ¨ 10 åƒç´ 
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>moveForward</h3>
                <p>æ²¿å…ƒç´ å½“å‰æœå‘ç§»åŠ¨ï¼ˆåŸºäºæ—‹è½¬è§’åº¦ï¼‰ã€‚</p>
                
                <div class="method-signature">
void moveForward(double pixels = 0);
                </div>
                
                <div class="param">
                    <span class="param-name">pixels</span> - ç§»åŠ¨çš„åƒç´ æ•°
                </div>
            </div>
            
            <div class="method">
                <h3>getPosition</h3>
                <p>è·å–å…ƒç´ å½“å‰ä½ç½®ã€‚</p>
                
                <div class="method-signature">
Position getPosition();
                </div>
                
                <div class="param">
                    <span class="param-name">è¿”å›å€¼</span> - åŒ…å« x å’Œ y åæ ‡çš„ Position å¯¹è±¡
                </div>
            </div>
            
            <div class="method">
                <h3>moveSafely</h3>
                <p>å®‰å…¨ç§»åŠ¨ï¼ˆå¸¦ç¢°æ’æ£€æµ‹ï¼‰ã€‚</p>
                
                <div class="method-signature">
double moveSafely(Position pixelsDir, const vector&lt;Element*&gt;& limit);
                </div>
                
                <div class="param">
                    <span class="param-name">pixelsDir</span> - ç§»åŠ¨æ–¹å‘å’Œè·ç¦»<br>
                    <span class="param-name">limit</span> - ç¢°æ’æ£€æµ‹çš„é™åˆ¶å¯¹è±¡åˆ—è¡¨<br>
                    <span class="param-name">è¿”å›å€¼</span> - å®é™…ç§»åŠ¨çš„è·ç¦»
                </div>
                
                <div class="note">
                    <strong>æ³¨æ„ï¼š</strong>ä½¿ç”¨ moveSafely éœ€è¦å…ˆé€šè¿‡ useGJK() å¯ç”¨ç¢°æ’æ£€æµ‹ï¼Œå¹¶ä½¿ç”¨ addPolygon() æ·»åŠ ç¢°æ’å¤šè¾¹å½¢ã€‚
                </div>
            </div>
            
            <div class="method">
                <h3>cancelX / cancelY / cancelMove</h3>
                <p>å–æ¶ˆæœ¬å¸§çš„ç§»åŠ¨ï¼ˆæ¢å¤åˆ°ä¸Šä¸€å¸§ä½ç½®ï¼‰ã€‚</p>
                
                <div class="method-signature">
void cancelX();      // å–æ¶ˆ X è½´ç§»åŠ¨
void cancelY();      // å–æ¶ˆ Y è½´ç§»åŠ¨
void cancelMove();   // å–æ¶ˆæ‰€æœ‰ç§»åŠ¨
                </div>
                
                <div class="example">
                    <code>
// åœ¨ç¢°æ’æ—¶å–æ¶ˆç§»åŠ¨<br>
element->listen(EventType.frame, "collision_check", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (self->isTouchedBy(wall)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self->cancelMove();<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
});
                    </code>
                </div>
            </div>
            
            <h2 id="transform">ğŸ”„ å˜æ¢æ“ä½œ</h2>
            
            <div class="method">
                <h3>æ—‹è½¬æ§åˆ¶</h3>
                <p>æ§åˆ¶å…ƒç´ çš„æ—‹è½¬è§’åº¦ã€‚</p>
                
                <div class="method-signature">
void turnLeft(double angle);   // å‘å·¦æ—‹è½¬
void turnRight(double angle);  // å‘å³æ—‹è½¬
void turnTo(double angle);     // æ—‹è½¬åˆ°æŒ‡å®šè§’åº¦
double getAngle();             // è·å–å½“å‰è§’åº¦
                </div>
                
                <div class="param">
                    <span class="param-name">angle</span> - æ—‹è½¬è§’åº¦ï¼ˆåº¦æ•°ï¼‰
                </div>
                
                <div class="example">
                    <code>
element->turnRight(45);  // é¡ºæ—¶é’ˆæ—‹è½¬ 45 åº¦<br>
element->turnTo(90);     // æ—‹è½¬åˆ° 90 åº¦ï¼ˆæ°´å¹³å‘å³ï¼‰
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>faceTo</h3>
                <p>ä½¿å…ƒç´ æœå‘ç›®æ ‡å…ƒç´ æˆ–åæ ‡ã€‚</p>
                
                <div class="method-signature">
bool faceTo(Element* that);
bool faceTo(const Position& pos);
                </div>
                
                <div class="param">
                    <span class="param-name">that</span> - ç›®æ ‡å…ƒç´ æŒ‡é’ˆ<br>
                    <span class="param-name">pos</span> - ç›®æ ‡åæ ‡<br>
                    <span class="param-name">è¿”å›å€¼</span> - æ˜¯å¦æˆåŠŸ
                </div>
                
                <div class="example">
                    <code>
// æ•Œäººæœå‘ç©å®¶<br>
enemy->faceTo(player);<br>
<br>
// ç‚®å¡”æœå‘é¼ æ ‡<br>
turret->faceTo(getMousePos());
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>ç¼©æ”¾æ§åˆ¶</h3>
                <p>æ§åˆ¶å…ƒç´ çš„ç¼©æ”¾æ¯”ä¾‹ã€‚</p>
                
                <div class="method-signature">
void setScale(double scale);      // è®¾ç½®ç¼©æ”¾æ¯”ä¾‹ (100 = åŸå§‹å¤§å°)
void increaseScale(double scale); // å¢åŠ ç¼©æ”¾
void decreaseScale(double scale); // å‡å°ç¼©æ”¾
double getScale();                // è·å–å½“å‰ç¼©æ”¾
                </div>
                
                <div class="example">
                    <code>
element->setScale(150);      // æ”¾å¤§åˆ° 150%<br>
element->increaseScale(10);  // å¢åŠ  10% ç¼©æ”¾
                    </code>
                </div>
            </div>
            
            <h2 id="display">ğŸ‘ï¸ æ˜¾ç¤ºæ§åˆ¶</h2>
            
            <div class="method">
                <h3>show / hide</h3>
                <p>æ˜¾ç¤ºæˆ–éšè—å…ƒç´ ã€‚</p>
                
                <div class="method-signature">
void show();           // æ˜¾ç¤ºå…ƒç´ 
void hide();           // éšè—å…ƒç´ 
bool getIsShow();      // è·å–æ˜¾ç¤ºçŠ¶æ€
                </div>
            </div>
            
            <div class="method">
                <h3>é€æ˜åº¦æ§åˆ¶</h3>
                <p>æ§åˆ¶å…ƒç´ çš„é€æ˜åº¦ã€‚</p>
                
                <div class="method-signature">
void setAlpha(short alpha);      // è®¾ç½®é€æ˜åº¦ (0-255)
void increaseAlpha(short alpha); // å¢åŠ é€æ˜åº¦
void decreaseAlpha(short alpha); // å‡å°‘é€æ˜åº¦
short getAlpha();                // è·å–å½“å‰é€æ˜åº¦
                </div>
                
                <div class="param">
                    <span class="param-name">alpha</span> - é€æ˜åº¦å€¼ï¼Œ0 = å®Œå…¨é€æ˜ï¼Œ255 = å®Œå…¨ä¸é€æ˜
                </div>
                
                <div class="example">
                    <code>
element->setAlpha(128);  // è®¾ç½®ä¸ºåŠé€æ˜<br>
<br>
// æ·¡å…¥æ•ˆæœ<br>
element->listen(EventType.frame, "fade_in", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (self->getAlpha() < 255) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self->increaseAlpha(5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
});
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>å›¾å±‚é¡ºåº</h3>
                <p>æ§åˆ¶å…ƒç´ çš„ç»˜åˆ¶é¡ºåºï¼ˆZ-indexï¼‰ã€‚</p>
                
                <div class="method-signature">
void setOrder(int count);      // è®¾ç½®ç»˜åˆ¶é¡ºåº
void increaseOrder(int count); // å¢åŠ é¡ºåº
void decreaseOrder(int count); // å‡å°‘é¡ºåº
int getOrder();                // è·å–å½“å‰é¡ºåº
                </div>
                
                <div class="param">
                    <span class="param-name">count</span> - é¡ºåºå€¼ï¼Œæ•°å€¼è¶Šå¤§è¶Šåç»˜åˆ¶ï¼ˆæ˜¾ç¤ºåœ¨ä¸Šå±‚ï¼‰
                </div>
            </div>
            
            <div class="method">
                <h3>removeColor</h3>
                <p>ç§»é™¤ç‰¹å®šé¢œè‰²ï¼ˆç”¨äºå®ç°é¢œè‰²é€æ˜ï¼‰ã€‚</p>
                
                <div class="method-signature">
void removeColor(color_t color);
                </div>
                
                <div class="param">
                    <span class="param-name">color</span> - è¦ç§»é™¤çš„é¢œè‰²å€¼
                </div>
                
                <div class="example">
                    <code>
element->removeColor(BLACK);  // ä½¿é»‘è‰²å˜ä¸ºé€æ˜
                    </code>
                </div>
            </div>
            
            <h2 id="events">âš¡ äº‹ä»¶ç³»ç»Ÿ</h2>
            
            <div class="section">
                <p>Element æä¾›äº†å®Œæ•´çš„äº‹ä»¶ç›‘å¬ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§äº‹ä»¶ç±»å‹ã€‚</p>
            </div>
            
            <div class="method">
                <h3>äº‹ä»¶ç±»å‹</h3>
                <table>
                    <tr>
                        <th>äº‹ä»¶ç±»å‹</th>
                        <th>è¯´æ˜</th>
                        <th>è§¦å‘æ¡ä»¶</th>
                    </tr>
                    <tr>
                        <td>EventType.frame</td>
                        <td>å¸§äº‹ä»¶</td>
                        <td>æ¯å¸§éƒ½ä¼šè§¦å‘</td>
                    </tr>
                    <tr>
                        <td>EventType.on_mouse_put_on</td>
                        <td>é¼ æ ‡æ‚¬åœäº‹ä»¶</td>
                        <td>é¼ æ ‡è¿›å…¥å…ƒç´ åŒºåŸŸæ—¶è§¦å‘</td>
                    </tr>
                    <tr>
                        <td>EventType.on_mouse_hitting</td>
                        <td>é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</td>
                        <td>é¼ æ ‡åœ¨å…ƒç´ ä¸ŠæŒ‰ä¸‹æ—¶è§¦å‘</td>
                    </tr>
                    <tr>
                        <td>EventType.on_mouse_move_away</td>
                        <td>é¼ æ ‡ç§»å¼€äº‹ä»¶</td>
                        <td>é¼ æ ‡ç¦»å¼€å…ƒç´ åŒºåŸŸæ—¶è§¦å‘</td>
                    </tr>
                    <tr>
                        <td>EventType.on_click</td>
                        <td>ç‚¹å‡»äº‹ä»¶</td>
                        <td>åœ¨å…ƒç´ ä¸Šå®Œæˆç‚¹å‡»ï¼ˆæŒ‰ä¸‹åæ¾å¼€ï¼‰</td>
                    </tr>
                    <tr>
                        <td>EventType.on_mouse_hit_but_move_away</td>
                        <td>æ‹–æ‹½ç¦»å¼€äº‹ä»¶</td>
                        <td>æŒ‰ä¸‹åæ‹–å‡ºå…ƒç´ åŒºåŸŸ</td>
                    </tr>
                    <tr>
                        <td>EventType.on_clone</td>
                        <td>å…‹éš†äº‹ä»¶</td>
                        <td>å…ƒç´ è¢«å…‹éš†æ—¶è§¦å‘ï¼ˆåœ¨åŸå…ƒç´ ä¸Šï¼‰</td>
                    </tr>
                    <tr>
                        <td>EventType.clones.on_clone</td>
                        <td>å…‹éš†ä½“äº‹ä»¶</td>
                        <td>å…‹éš†å®Œæˆæ—¶è§¦å‘ï¼ˆåœ¨å…‹éš†ä½“ä¸Šï¼‰</td>
                    </tr>
                </table>
            </div>
            
            <div class="method">
                <h3>listen</h3>
                <p>æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ã€‚</p>
                
                <div class="method-signature">
void listen(int listenMode, string identifier, function&lt;void(Element*)&gt; callback);
                </div>
                
                <div class="param">
                    <span class="param-name">listenMode</span> - äº‹ä»¶ç±»å‹<br>
                    <span class="param-name">identifier</span> - ç›‘å¬å™¨æ ‡è¯†ç¬¦ï¼ˆç”¨äºåç»­ç§»é™¤ï¼‰<br>
                    <span class="param-name">callback</span> - å›è°ƒå‡½æ•°ï¼Œæ¥æ”¶ Element* å‚æ•°
                </div>
                
                <div class="example">
                    <code>
// å¸§æ›´æ–°äº‹ä»¶<br>
element->listen(EventType.frame, "update", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;self->moveRight(2);<br>
});<br>
<br>
// ç‚¹å‡»äº‹ä»¶<br>
button->listen(EventType.on_click, "click_handler", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;cout << "æŒ‰é’®è¢«ç‚¹å‡»ï¼" << endl;<br>
});
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>unlisten</h3>
                <p>ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ã€‚</p>
                
                <div class="method-signature">
void unlisten(int listenMode, string identifier);
                </div>
                
                <div class="param">
                    <span class="param-name">listenMode</span> - äº‹ä»¶ç±»å‹<br>
                    <span class="param-name">identifier</span> - è¦ç§»é™¤çš„ç›‘å¬å™¨æ ‡è¯†ç¬¦
                </div>
            </div>
            
            <div class="method">
                <h3>stop / begin</h3>
                <p>æš‚åœæˆ–æ¢å¤äº‹ä»¶ç›‘å¬å™¨ã€‚</p>
                
                <div class="method-signature">
void stop(int listenMode, string identifier);   // æš‚åœç›‘å¬å™¨
void begin(int listenMode, string identifier);  // æ¢å¤ç›‘å¬å™¨
                </div>
                
                <div class="example">
                    <code>
// æš‚æ—¶åœæ­¢ç§»åŠ¨<br>
element->stop(EventType.frame, "movement");<br>
<br>
// æ¢å¤ç§»åŠ¨<br>
element->begin(EventType.frame, "movement");
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>isMouseIn / isHit</h3>
                <p>æ£€æµ‹é¼ æ ‡çŠ¶æ€ã€‚</p>
                
                <div class="method-signature">
bool isMouseIn();  // é¼ æ ‡æ˜¯å¦åœ¨å…ƒç´ å†…
bool isHit();      // å…ƒç´ æ˜¯å¦è¢«ç‚¹å‡»
                </div>
                
                <div class="param">
                    <span class="param-name">è¿”å›å€¼</span> - true è¡¨ç¤ºæ»¡è¶³æ¡ä»¶
                </div>
            </div>
            
            <h2 id="animation">ğŸ¬ åŠ¨ç”»ç³»ç»Ÿ</h2>
            
            <div class="method">
                <h3>moveWithAnimation</h3>
                <p>ä½¿ç”¨ç¼“åŠ¨åŠ¨ç”»ç§»åŠ¨å…ƒç´ ã€‚</p>
                
                <div class="method-signature">
void moveWithAnimation(double xPixel, double yPixel, const Animate& animate, 
                       function&lt;void(Element*)&gt; callback = nullptr);
                </div>
                
                <div class="param">
                    <span class="param-name">xPixel, yPixel</span> - X å’Œ Y æ–¹å‘çš„ç§»åŠ¨è·ç¦»<br>
                    <span class="param-name">animate</span> - åŠ¨ç”»å¯¹è±¡ï¼ˆç¼“åŠ¨å‡½æ•°ï¼‰<br>
                    <span class="param-name">callback</span> - åŠ¨ç”»å®Œæˆæ—¶çš„å›è°ƒå‡½æ•°
                </div>
                
                <div class="example">
                    <code>
// ä½¿ç”¨ç¼“åŠ¨åŠ¨ç”»ç§»åŠ¨<br>
element->moveWithAnimation(100, 0, Ease::easeOutQuadX, [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;cout << "åŠ¨ç”»å®Œæˆï¼" << endl;<br>
});
                    </code>
                </div>
                
                <h3>å†…ç½®ç¼“åŠ¨åŠ¨ç”»</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><code>Ease::easeInOutCubicX</code> - X è½´ä¸‰æ¬¡ç¼“å…¥ç¼“å‡º</li>
                    <li><code>Ease::easeInOutCubicY</code> - Y è½´ä¸‰æ¬¡ç¼“å…¥ç¼“å‡º</li>
                    <li><code>Ease::easeOutQuadX</code> - X è½´äºŒæ¬¡ç¼“å‡º</li>
                    <li><code>Ease::easeOutQuadY</code> - Y è½´äºŒæ¬¡ç¼“å‡º</li>
                </ul>
            </div>
            
            <h2 id="collision">ğŸ’¥ ç¢°æ’æ£€æµ‹</h2>
            
            <div class="section">
                <p>Element æ”¯æŒä¸¤ç§ç¢°æ’æ£€æµ‹æ¨¡å¼ï¼š</p>
                <ol style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>åƒç´ ç¢°æ’</strong>ï¼šæ£€æµ‹å›¾åƒåƒç´ æ˜¯å¦é‡å ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰</li>
                    <li><strong>GJK/EPA ç¢°æ’</strong>ï¼šä½¿ç”¨å¤šè¾¹å½¢è¿›è¡Œç²¾ç¡®ç¢°æ’æ£€æµ‹</li>
                </ol>
            </div>
            
            <div class="method">
                <h3>isTouchedBy</h3>
                <p>æ£€æµ‹æ˜¯å¦ä¸å¦ä¸€ä¸ªå…ƒç´ å‘ç”Ÿç¢°æ’ã€‚</p>
                
                <div class="method-signature">
bool isTouchedBy(Element* that);
                </div>
                
                <div class="param">
                    <span class="param-name">that</span> - è¦æ£€æµ‹çš„ç›®æ ‡å…ƒç´ <br>
                    <span class="param-name">è¿”å›å€¼</span> - æ˜¯å¦å‘ç”Ÿç¢°æ’
                </div>
                
                <div class="example">
                    <code>
// æ£€æµ‹ç©å®¶æ˜¯å¦ç¢°åˆ°æ•Œäºº<br>
if (player->isTouchedBy(enemy)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// å¤„ç†ç¢°æ’<br>
&nbsp;&nbsp;&nbsp;&nbsp;player->decreaseVariable(0, 10);  // å‡å°‘ç”Ÿå‘½å€¼<br>
}
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>useGJK / unlistenGJK</h3>
                <p>å¯ç”¨æˆ–ç¦ç”¨ GJK/EPA ç¢°æ’æ£€æµ‹ã€‚</p>
                
                <div class="method-signature">
void useGJK();        // å¯ç”¨å¤šè¾¹å½¢ç¢°æ’æ£€æµ‹
void unlistenGJK();   // ç¦ç”¨å¤šè¾¹å½¢ç¢°æ’æ£€æµ‹
                </div>
                
                <div class="note">
                    <strong>æ³¨æ„ï¼š</strong>å¯ç”¨ GJK åï¼Œéœ€è¦ä½¿ç”¨ addPolygon() æ·»åŠ ç¢°æ’å¤šè¾¹å½¢ã€‚åŒæ—¶ä¼šè‡ªåŠ¨ç¦ç”¨ç§æœ‰å›¾åƒç»˜åˆ¶ä»¥æé«˜æ€§èƒ½ã€‚
                </div>
            </div>
            
            <div class="method">
                <h3>addPolygon</h3>
                <p>æ·»åŠ ç¢°æ’æ£€æµ‹å¤šè¾¹å½¢ã€‚</p>
                
                <div class="method-signature">
void addPolygon(const FeEGE::Polygon& shape);
                </div>
                
                <div class="param">
                    <span class="param-name">shape</span> - å¤šè¾¹å½¢é¡¶ç‚¹é›†åˆï¼ˆvector&lt;Position&gt;ï¼‰
                </div>
                
                <div class="example">
                    <code>
// æ·»åŠ çŸ©å½¢ç¢°æ’æ¡†<br>
vector&lt;Position&gt; rect = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;{0, 0}, {100, 0}, {100, 100}, {0, 100}<br>
};<br>
element->useGJK();<br>
element->addPolygon(rect);<br>
<br>
// ä» JSON æ–‡ä»¶è¯»å–å¤šè¾¹å½¢<br>
auto polygon = readPolygonFromJSON("./shapes.json", "player");<br>
element->addPolygon(polygon);
                    </code>
                </div>
            </div>
            
            <h2 id="clone">ğŸ§¬ å…‹éš†åŠŸèƒ½</h2>
            
            <div class="method">
                <h3>clone</h3>
                <p>å…‹éš†å…ƒç´ åˆ›å»ºå‰¯æœ¬ã€‚</p>
                
                <div class="method-signature">
Element* clone();
                </div>
                
                <div class="param">
                    <span class="param-name">è¿”å›å€¼</span> - æ–°å…‹éš†çš„å…ƒç´ æŒ‡é’ˆ
                </div>
                
                <div class="example">
                    <code>
// åˆ›å»ºå­å¼¹å…‹éš†<br>
Element* bulletTemplate = newElement("bullet", "./bullet.png");<br>
bulletTemplate->listen(EventType.on_clone, "spawn", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// åœ¨åŸå…ƒç´ ä¸Šè§¦å‘<br>
&nbsp;&nbsp;&nbsp;&nbsp;cout << "åˆ›å»ºäº†ä¸€ä¸ªå…‹éš†ï¼" << endl;<br>
});<br>
<br>
// å…‹éš†å­å¼¹<br>
Element* bullet1 = bulletTemplate->clone();<br>
Element* bullet2 = bulletTemplate->clone();
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>getClones</h3>
                <p>è·å–æ‰€æœ‰å…‹éš†ä½“åˆ—è¡¨ã€‚</p>
                
                <div class="method-signature">
vector&lt;Element*&gt; getClones();
                </div>
                
                <div class="param">
                    <span class="param-name">è¿”å›å€¼</span> - å…‹éš†ä½“æŒ‡é’ˆçš„å‘é‡
                </div>
            </div>
            
            <h2 id="variables">ğŸ’¾ ç§æœ‰å˜é‡</h2>
            
            <div class="method">
                <h3>å˜é‡ç®¡ç†</h3>
                <p>æ¯ä¸ªå…ƒç´ éƒ½æœ‰ 10 ä¸ªç§æœ‰å˜é‡æ§½ï¼ˆç´¢å¼• 0-9ï¼‰ï¼Œå¯ç”¨äºå­˜å‚¨è‡ªå®šä¹‰æ•°æ®ã€‚</p>
                
                <div class="method-signature">
void setVariable(unsigned int which, long long value);
long long& getVariable(unsigned int which);
void increaseVariable(unsigned int which, long long value);
void decreaseVariable(unsigned int which, long long value);
                </div>
                
                <div class="param">
                    <span class="param-name">which</span> - å˜é‡ç´¢å¼• (0-9)<br>
                    <span class="param-name">value</span> - å˜é‡å€¼
                </div>
                
                <div class="example">
                    <code>
// ä½¿ç”¨å˜é‡ 0 å­˜å‚¨ç”Ÿå‘½å€¼<br>
player->setVariable(0, 100);<br>
<br>
// å—åˆ°ä¼¤å®³<br>
player->decreaseVariable(0, 10);<br>
<br>
// æ£€æŸ¥ç”Ÿå‘½å€¼<br>
if (player->getVariable(0) <= 0) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// æ¸¸æˆç»“æŸ<br>
}
                    </code>
                </div>
                
                <div class="note">
                    <strong>æç¤ºï¼š</strong>å˜é‡ 0 é€šå¸¸è¢«äº‹ä»¶ç³»ç»Ÿç”¨äºé¼ æ ‡çŠ¶æ€ç®¡ç†ï¼Œå˜é‡ 1 ç”¨äºå­˜å‚¨å…‹éš†ä½“çš„çˆ¶å…ƒç´ æŒ‡é’ˆã€‚å»ºè®®ä»ç´¢å¼• 2 å¼€å§‹ä½¿ç”¨ã€‚
                </div>
            </div>
            
            <h2 id="images">ğŸ–¼ï¸ å›¾åƒç®¡ç†</h2>
            
            <div class="method">
                <h3>addImage</h3>
                <p>æ·»åŠ å›¾åƒåˆ°å…ƒç´ ã€‚</p>
                
                <div class="method-signature">
void addImage(PIMAGE image);
                </div>
                
                <div class="param">
                    <span class="param-name">image</span> - å›¾åƒæŒ‡é’ˆ
                </div>
            </div>
            
            <div class="method">
                <h3>setImage</h3>
                <p>åˆ‡æ¢åˆ°æŒ‡å®šç´¢å¼•çš„å›¾åƒã€‚</p>
                
                <div class="method-signature">
bool setImage(int order);
int getImageOrder();
PIMAGE getImage();
                </div>
                
                <div class="param">
                    <span class="param-name">order</span> - å›¾åƒç´¢å¼•<br>
                    <span class="param-name">è¿”å›å€¼</span> - setImage è¿”å›æ˜¯å¦æˆåŠŸ
                </div>
                
                <div class="example">
                    <code>
// æ·»åŠ å¤šä¸ªå›¾åƒå®ç°å¸§åŠ¨ç”»<br>
element->addImage(getImage("./frame1.png"));<br>
element->addImage(getImage("./frame2.png"));<br>
element->addImage(getImage("./frame3.png"));<br>
<br>
// åˆ‡æ¢å›¾åƒ<br>
element->listen(EventType.frame, "animate", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;static int frame = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (++frame % 10 == 0) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self->nextImage();<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
});
                    </code>
                </div>
            </div>
            
            <div class="method">
                <h3>nextImage</h3>
                <p>åˆ‡æ¢åˆ°ä¸‹ä¸€å¼ å›¾åƒï¼ˆå¾ªç¯ï¼‰ã€‚</p>
                
                <div class="method-signature">
void nextImage();
                </div>
            </div>
            
            <div class="method">
                <h3>cloneImage</h3>
                <p>å…‹éš†æ‰€æœ‰å›¾åƒï¼ˆåˆ›å»ºç‹¬ç«‹å‰¯æœ¬ï¼‰ã€‚</p>
                
                <div class="method-signature">
void cloneImage();
                </div>
                
                <div class="note">
                    <strong>æ³¨æ„ï¼š</strong>é»˜è®¤æƒ…å†µä¸‹å…‹éš†çš„å…ƒç´ ä¼šå…±äº«åŸå…ƒç´ çš„å›¾åƒã€‚å¦‚æœéœ€è¦ç‹¬ç«‹ä¿®æ”¹å›¾åƒï¼Œéœ€è¦è°ƒç”¨æ­¤æ–¹æ³•ã€‚
                </div>
            </div>
            
            <h2>ğŸ—‘ï¸ åˆ é™¤å…ƒç´ </h2>
            
            <div class="method">
                <h3>deleteElement / deleteThis</h3>
                <p>åˆ é™¤å…ƒç´ å¹¶é‡Šæ”¾èµ„æºã€‚</p>
                
                <div class="method-signature">
Element* deleteElement();  // ç«‹å³åˆ é™¤
Element* deleteThis();     // æ ‡è®°ä¸ºå¾…åˆ é™¤ï¼ˆä¸‹ä¸€å¸§åˆ é™¤ï¼‰
                </div>
                
                <div class="example">
                    <code>
// å®‰å…¨åˆ é™¤ï¼ˆæ¨èï¼‰<br>
element->deleteThis();<br>
<br>
// ç«‹å³åˆ é™¤<br>
element->deleteElement();
                    </code>
                </div>
                
                <div class="warning">
                    <strong>è­¦å‘Šï¼š</strong>deleteElement() ä¼šç«‹å³é‡Šæ”¾å†…å­˜ï¼Œå¦‚æœåœ¨å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨å¯èƒ½å¯¼è‡´é—®é¢˜ã€‚æ¨èä½¿ç”¨ deleteThis()ã€‚
                </div>
            </div>
            
            <h2>ğŸ“ å®Œæ•´ç¤ºä¾‹</h2>
            
            <div class="example">
                <code>
#include "FeEGELib.h"<br>
using namespace FeEGE;<br>
<br>
int main() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;init(800, 600);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;// åˆ›å»ºç©å®¶å…ƒç´ <br>
&nbsp;&nbsp;&nbsp;&nbsp;Element* player = newElement("player", "./player.png", 400, 300);<br>
&nbsp;&nbsp;&nbsp;&nbsp;player->setScale(150);<br>
&nbsp;&nbsp;&nbsp;&nbsp;player->setVariable(2, 100);  // ç”Ÿå‘½å€¼<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;// é”®ç›˜æ§åˆ¶<br>
&nbsp;&nbsp;&nbsp;&nbsp;player->listen(EventType.frame, "control", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (getkey('W')) self->moveUp(5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (getkey('S')) self->moveDown(5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (getkey('A')) self->moveLeft(5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (getkey('D')) self->moveRight(5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;// åˆ›å»ºæ•Œäºº<br>
&nbsp;&nbsp;&nbsp;&nbsp;Element* enemy = newElement("enemy", "./enemy.png", 200, 200);<br>
&nbsp;&nbsp;&nbsp;&nbsp;enemy->listen(EventType.frame, "chase", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Element* player = getElementById("player");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (player) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self->faceTo(player);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self->moveForward(2);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;// ç¢°æ’æ£€æµ‹<br>
&nbsp;&nbsp;&nbsp;&nbsp;player->listen(EventType.frame, "collision", [](Element* self) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Element* enemy = getElementById("enemy");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (enemy && self->isTouchedBy(enemy)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self->decreaseVariable(2, 1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (self->getVariable(2) <= 0) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout << "æ¸¸æˆç»“æŸï¼" << endl;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;start();<br>
&nbsp;&nbsp;&nbsp;&nbsp;return 0;<br>
}
                </code>
            </div>
            
            <div style="margin-top: 40px; text-align: center;">
                <a href="index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
                <a href="collision.html" class="back-link" style="margin-left: 10px;">ç¢°æ’ç³»ç»Ÿæ–‡æ¡£ â†’</a>
            </div>
        </div>
    </div>
</body>
</html>
